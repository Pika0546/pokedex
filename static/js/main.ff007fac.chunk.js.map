{"version":3,"sources":["reducer.js","components/Badge/Badge.js","components/Card/Card.js","hook/useInfiniteScroll.js","components/Loading/Loading.js","components/Dictionary/Dictionary.js","assets/pokemon.png","components/Header/Header.js","components/Search/Search.js","assets/pokeballOpen.png","components/NotFound/NotFound.js","components/ScrollToTopBtn/ScrollToTopBtn.js","App.js","index.js"],"names":["reducer","state","action","type","isOver","payload","nextUrl","newData","data","pokemons","isLoading","isError","isLoadMore","types","typeList","filterResult","isSearching","isOpenPokedex","pokeDetail","Badge","className","Card","pokemon","showDetail","renderType","map","index","onClick","src","img","alt","name","id","useInfiniteScroll","callback","useState","isFetching","setIsFetching","handleScroll","console","log","window","innerHeight","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","Loading","Dictionary","pokeList","fetchData","list","Header","pokemonBrand","location","reload","Search","getFilter","refContainer","useRef","onSubmit","e","preventDefault","current","value","toLowerCase","placeholder","ref","NotFound","pokeball","ScrollToTopBtn","isDisplay","setIsDisplay","handleScrollTop","body","class","pokemonlUrl","initialState","App","useReducer","dispatch","axios","get","then","res","axiosList","results","item","url","Promise","all","sprites","front_default","length","axiosList1","result","dis","ad","damage_relations","double_damage_from","forEach","push","no_damage_to","double_damage_to","no_damage_from","next","catch","err","filter","setTimeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"0WAAaA,EAAU,SAACC,EAAOC,GAE3B,GAAmB,eAAhBA,EAAOC,KAAsB,CAC5B,IAAIC,GAAS,EACTF,EAAOG,QAAQC,UACfF,GAAS,GAEb,IAAMG,EAAO,sBAAON,EAAMO,MAAb,YAAsBN,EAAOG,QAAQI,WAClD,kCACOR,GADP,IAEIO,KAAMD,EACNG,WAAW,EACXJ,QAASJ,EAAOG,QAAQC,QACxBF,OAAQA,EACRO,SAAS,EACTC,YAAY,EACZC,MAAOX,EAAOG,QAAQS,WAGzB,MAAmB,mBAAhBZ,EAAOC,KACX,2BACOF,GADP,IAEIc,aAAc,KACdL,WAAW,EACXM,aAAa,EACbL,SAAS,EACTC,YAAY,IAGK,cAAhBV,EAAOC,KACZ,2BACOF,GADP,IAEIc,aAAc,CAACb,EAAOG,SACtBW,aAAa,EACbL,SAAS,IAGQ,cAAhBT,EAAOC,KACZ,2BACOF,GADP,IAEIc,aAAc,GACdC,aAAa,IAGI,eAAhBd,EAAOC,KACZ,2BACOF,GADP,IAEIW,YAAY,IAGI,cAAhBV,EAAOC,KACX,2BACOF,GADP,IAEIc,aAAc,GACdC,aAAa,EACbL,SAAS,IAGO,eAAhBT,EAAOC,KACX,2BACOF,GADP,IAEIgB,eAAe,EACfC,WAAYhB,EAAOG,UAIhB,eACAJ,I,qCCvDAkB,EAVD,SAAC,GAAY,IAAXhB,EAAU,EAAVA,KAGZ,OACI,qBAAKiB,UAAS,uBAAkBjB,GAAhC,SACKA,KCmBEkB,EAvBF,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,WACdC,EAAaF,EAAQT,MAAMY,KAAI,SAACtB,EAAMuB,GACxC,OAAO,cAAC,EAAD,CAAmBvB,KAAMA,GAAbuB,MAGvB,OACI,sBAAKN,UAAU,OAAOO,QAAS,WAC3BJ,EAAWD,IADf,UAGI,qBAAKF,UAAU,YAAf,SACI,qBAAKQ,IAAKN,EAAQO,IAAKC,IAAKR,EAAQS,SAExC,sBAAMX,UAAU,WAAhB,oBAAgCE,EAAQU,MACxC,oBAAIZ,UAAU,cAAd,SACIE,EAAQS,OAEZ,qBAAKX,UAAU,cAAf,SACKI,QCYFS,EA9BW,SAACC,GACvB,MAAoCC,oBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAEMC,EAAe,WACjBC,QAAQC,IAAIC,OAAOC,aACnBH,QAAQC,IAAIG,SAASC,gBAAgBC,WACrCN,QAAQC,IAAIG,SAASC,gBAAgBE,cACrCP,QAAQC,IAAIC,OAAOC,YAAcC,SAASC,gBAAgBC,WACtDJ,OAAOC,YAAcC,SAASC,gBAAgBC,WAAaF,SAASC,gBAAgBE,eACpFP,QAAQC,IAAI,UACZH,GAAc,KAiBtB,OAbAU,qBAAU,WAEN,OADAJ,SAASK,iBAAiB,SAAUV,GAC7B,WACHK,SAASM,oBAAoB,SAAUX,MAE5C,IAEHS,qBAAU,WACHX,GACCF,MAEL,CAACE,IAEG,CAACA,EAAYC,ICbTa,G,YAdC,SAAC,GAAiB,IAAhB9B,EAAe,EAAfA,UACd,OACI,qBAAKA,UAAS,2BAAsBA,GAApC,SACI,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,qBACf,qBAAKA,UAAU,mBACf,qBAAKA,UAAU,4BC0BhB+B,EA9BI,SAAC,GAA2D,IAA1DC,EAAyD,EAAzDA,SAAUC,EAA+C,EAA/CA,UAAWjD,EAAoC,EAApCA,OAAQQ,EAA4B,EAA5BA,WAAYW,EAAgB,EAAhBA,WAS1D,EAAqCU,GAPnB,WACV7B,GACAiD,IAEJhB,GAAc,MAGlB,mBAAmBA,GAAnB,WAEMiB,EAAOF,EAAS3B,KAAI,SAACH,GACvB,OAAO,cAAC,EAAD,CAAuBC,WAAYA,EAAYD,QAASA,GAA7CA,EAAQU,OAE9B,OACI,sBAAKZ,UAAU,aAAf,UACI,qBAAKA,UAAU,sBAAf,SACKkC,IAEL,qBAAKlC,UAAU,kBAAf,SACMR,IAAeR,EACb,cAAC,EAAD,CAASgB,UAAU,UAAqB,SC1B7C,G,MAAA,IAA0B,qCCkB1BmC,EAdA,WACX,OACI,qBAAKnC,UAAU,SAAf,SACQ,qBACIQ,IAAK4B,EACL1B,IAAI,UACJH,QAAS,WACLc,OAAOgB,SAASC,QAAO,SCYhCC,G,MArBA,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UACPC,EAAeC,iBAAO,MAM5B,OACI,qBAAK1C,UAAU,SAAf,SACI,uBAAM2C,SAPO,SAACC,GAClBA,EAAEC,iBACFL,EAAUC,EAAaK,QAAQC,MAAMC,gBAKjC,UACI,uBAAOhD,UAAU,gBACbjB,KAAK,OACLkE,YAAY,aACZC,IAAKT,IAET,wBAAQzC,UAAU,iBAAiBjB,KAAK,SAAxC,SAAkD,mBAAGiB,UAAU,2BCjBhE,G,MAAA,IAA0B,0CCmB1BmD,EAfE,WACb,OACI,qBAAKnD,UAAU,MAAf,SACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKQ,IAAK4C,EAAU1C,IAAI,eAE5B,qBAAKV,UAAU,YAAf,SACI,4DCwBLqD,G,MAhCQ,WACnB,MAAkCtC,oBAAS,GAA3C,mBAAOuC,EAAP,KAAkBC,EAAlB,KACMC,EAAiB,WACfjC,SAASkC,KAAKhC,UAAY,IAAMF,SAASC,gBAAgBC,UAAY,GACrE8B,GAAa,GAGbA,GAAa,IAcrB,OANA5B,qBAAU,WAEN,OADAJ,SAASK,iBAAiB,SAAU4B,GAC7B,WACHjC,SAASM,oBAAoB,SAAU2B,MAE5C,IAED,mCACIF,EACE,wBAAQtD,UAAU,aAAaO,QAbvB,WACZgB,SAASkC,KAAKhC,UAAY,EAC1BF,SAASC,gBAAgBC,UAAY,GAWjC,SACI,mBAAGiC,MAAM,6BACD,OCjBlBC,EAAc,qCAEdC,EAAe,CACpBjE,aAAc,KACdL,WAAW,EACXF,KAAM,GACNK,MAAO,GACPP,QAASyE,EACT3E,QAAQ,EACRY,aAAa,EACbJ,YAAY,EACZD,SAAS,EACTM,eAAe,EACfC,WAAY,MAiKE+D,MA9Jf,WAEC,MAA0BC,qBAAWlF,EAASgF,GAA9C,mBAAO/E,EAAP,KAAckF,EAAd,KAEM9B,EAAY,WACbpD,EAAMc,eACToE,EAAS,CAAChF,KAAK,eACfiF,IAAMC,IAAIpF,EAAMK,SACfgF,MAAK,SAAAC,GACL,IAAM/E,EAAO+E,EAAI/E,KACXgF,EAAYhF,EAAKiF,QAAQhE,KAAI,SAACiE,GACnC,OAAON,IAAMC,IAAIK,EAAKC,QAGvBC,QAAQC,IAAIL,GACXF,MAAK,SAACG,GACN,IAAIrC,EAAWqC,EAAQhE,KAAI,SAACiE,GAC3B,IAAI5E,EAAW4E,EAAKlF,KAAKK,MAAMY,KAAI,SAACtB,GACnC,OAAOA,EAAKA,KAAK4B,QAElB,MAAM,CACLC,GAAI0D,EAAKlF,KAAKwB,GACdD,KAAM2D,EAAKlF,KAAKuB,KAChBlB,MAAOC,EACPe,IAAK6D,EAAKlF,KAAKsF,QAAQC,kBAGC,IAAvB9F,EAAMY,MAAMmF,OACdZ,IAAMC,IA3CK,mCA4CVC,MAAK,SAAAC,GACL,IACMU,EADQV,EAAI/E,KACOiF,QAAQhE,KAAI,SAACiE,GACrC,OAAON,IAAMC,IAAIK,EAAKC,QAGvBC,QAAQC,IAAII,GACXX,MAAK,SAACY,GACN,IAAIrF,EAAQqF,EAAOzE,KAAI,SAACiE,GACvB,IAAIS,EAAM,GACNC,EAAK,GAaT,OAZAV,EAAKlF,KAAK6F,iBAAiBC,mBAAmBC,SAAQ,SAAApG,GACrDgG,EAAIK,KAAKrG,EAAK4B,SAEf2D,EAAKlF,KAAK6F,iBAAiBI,aAAaF,SAAQ,SAAApG,GAC/CgG,EAAIK,KAAKrG,EAAK4B,SAEf2D,EAAKlF,KAAK6F,iBAAiBK,iBAAiBH,SAAQ,SAAApG,GACnDiG,EAAGI,KAAKrG,EAAK4B,SAEd2D,EAAKlF,KAAK6F,iBAAiBM,eAAeJ,SAAQ,SAAApG,GACjDiG,EAAGI,KAAKrG,EAAK4B,SAER,CACLA,KAAM2D,EAAKlF,KAAKuB,KAChBoE,IAAKA,EACLC,GAAIA,MAGNjB,EAAS,CAAChF,KAAK,aAAcE,QAAS,CAACI,SAAU2C,EAAU9C,QAASE,EAAKoG,KAAM9F,SAAUD,WAK3FsE,EAAS,CAAChF,KAAK,aAAcE,QAAS,CAACI,SAAU2C,EAAU9C,QAASE,EAAKoG,KAAM9F,SAAUb,EAAMY,YAGhGgG,OAAM,SAAAC,GAAG,OAAEvE,QAAQC,IAAIsE,SACtBD,OAAM,SAAAC,GAAG,OAAEvE,QAAQC,IAAIsE,QAwD5B,OApDA/D,qBAAU,WAET,OADAM,IACM,eAGJ,IAgDF,sBAAKjC,UAAU,MAAf,UACC,cAAC,EAAD,IACCnB,EAAMS,UACN,cAAC,EAAD,CAASU,UAAU,QACnB,qCACC,cAAC,EAAD,IACA,cAAC,EAAD,CAAQwC,UApDK,SAACmD,GACjB5B,EAAS,CAAChF,KAAK,cACf6G,YAAW,WACW,IAAlBD,EAAOf,OACTb,EAAS,CAAChF,KAAK,mBAGfiF,IAAMC,IAAIN,EAAcgC,GACvBzB,MAAK,SAAAC,GACL,IAAM/E,EAAO+E,EAAI/E,KACbM,EAAWN,EAAKK,MAAMY,KAAI,SAACtB,GAC9B,OAAOA,EAAKA,KAAK4B,QAEZT,EAAU,CACfU,GAAIxB,EAAKwB,GACTD,KAAMvB,EAAKuB,KACXlB,MAAOC,EACPe,IAAKrB,EAAKsF,QAAQC,eAEnBZ,EAAS,CAAChF,KAAK,YAAaE,QAASiB,OAGrCuF,OAAM,SAAAC,GACN3B,EAAS,CAAChF,KAAK,mBAGf,QA2BA,+BACC,qBAAKiB,UAAU,OAAf,SACEnB,EAAMe,YACN,cAAC,EAAD,CAASI,UAAU,UACnBnB,EAAMU,QACN,cAAC,EAAD,IACA,cAAC,EAAD,CACCP,SAAQH,EAAMc,cAAsBd,EAAMG,OAC1CgD,SAAUnD,EAAMc,aAAed,EAAMc,aAAed,EAAMO,KAC1D6C,UAAWA,EACXzC,WAAYX,EAAMW,WAClBW,WAnCW,SAACD,GACnB6D,EAAS,CAAChF,KAAM,aAAcE,QAASiB,kBCpIzC2F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxE,SAASyE,eAAe,W","file":"static/js/main.ff007fac.chunk.js","sourcesContent":["export const reducer = (state, action) =>{\r\n    \r\n    if(action.type === 'FETCH_DATA'){\r\n        let isOver = false;\r\n        if(!action.payload.nextUrl){\r\n            isOver = true;\r\n        }\r\n        const newData = [...state.data, ...action.payload.pokemons]\r\n        return{\r\n            ...state,\r\n            data: newData,\r\n            isLoading: false,\r\n            nextUrl: action.payload.nextUrl,\r\n            isOver: isOver,\r\n            isError: false,\r\n            isLoadMore: false,\r\n            types: action.payload.typeList\r\n        }\r\n    }\r\n    else if(action.type === 'RESET_POKEMONS'){\r\n        return{\r\n            ...state,\r\n            filterResult: null,\r\n            isLoading: false,\r\n            isSearching: false,\r\n            isError: false,\r\n            isLoadMore: false,\r\n        }\r\n    }\r\n    else if (action.type === 'FILTERING'){\r\n        return{\r\n            ...state,\r\n            filterResult: [action.payload],\r\n            isSearching: false,\r\n            isError: false,\r\n        }\r\n    }\r\n    else if (action.type === 'SEARCHING'){\r\n        return{\r\n            ...state,\r\n            filterResult: [],\r\n            isSearching: true,\r\n        }\r\n    }\r\n    else if (action.type === 'START_LOAD'){\r\n        return{\r\n            ...state,\r\n            isLoadMore: true,\r\n        }\r\n    }\r\n    else if(action.type === 'NOT_FOUND'){\r\n        return{\r\n            ...state,\r\n            filterResult: [],\r\n            isSearching: false,\r\n            isError: true,\r\n        }\r\n    }\r\n    else if(action.type === 'SET_DETAIL'){\r\n        return{\r\n            ...state,\r\n            isOpenPokedex: true,\r\n            pokeDetail: action.payload\r\n        }\r\n    }\r\n    else{\r\n        return {\r\n            ...state\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport './Badge.scss'\r\nconst Badge = ({type}) => {\r\n\r\n   \r\n    return (\r\n        <div className={`badge badge--${type}`}>\r\n            {type}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Badge\r\n","import React from 'react'\r\nimport './Card.scss'\r\nimport Badge from '../Badge/Badge'\r\nconst Card = ({pokemon, showDetail}) => {\r\n    const renderType = pokemon.types.map((type, index)=>{      \r\n        return <Badge key={index} type={type}></Badge>\r\n    })\r\n\r\n    return (\r\n        <div className=\"card\" onClick={()=>{\r\n            showDetail(pokemon);\r\n        }}>\r\n            <div className=\"card__img\">\r\n                <img src={pokemon.img} alt={pokemon.name}></img>\r\n            </div>\r\n            <span className=\"card__id\">{`#${pokemon.id}`}</span>\r\n            <h3 className=\"card__title\">\r\n               {pokemon.name}\r\n            </h3>\r\n            <div className=\"card__types\">\r\n                {renderType}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst useInfiniteScroll = (callback) => {\r\n    const [isFetching, setIsFetching] = useState(false);\r\n\r\n    const handleScroll = () => {\r\n        console.log(window.innerHeight);\r\n        console.log(document.documentElement.scrollTop);\r\n        console.log(document.documentElement.offsetHeight);\r\n        console.log(window.innerHeight + document.documentElement.scrollTop);\r\n        if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight){\r\n            console.log(\"Scroll\")\r\n            setIsFetching(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"scroll\", handleScroll)        \r\n        return () => {\r\n            document.removeEventListener(\"scroll\", handleScroll);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(isFetching){\r\n            callback();\r\n        }\r\n    }, [isFetching]);\r\n\r\n    return [isFetching, setIsFetching];\r\n}\r\n\r\nexport default useInfiniteScroll;","import React from 'react'\r\nimport './Loading.scss'\r\nconst Loading = ({className}) => {\r\n    return (\r\n        <div className={`loading loading--${className}`}>\r\n            <div className=\"pokeball\">\r\n                <div className=\"pokeball__top\"></div>\r\n                <div className=\"pokeball__bottom\"></div>\r\n                <div className=\"pokeball__line\"></div>\r\n                <div className=\"pokeball__middle\"></div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react';\r\nimport Card from '../Card/Card';\r\nimport useInfiniteScroll from '../../hook/useInfiniteScroll';\r\nimport './Dictionary.scss';\r\nimport Loading from '../Loading/Loading';\r\nconst Dictionary = ({pokeList, fetchData, isOver, isLoadMore, showDetail}) => {\r\n\r\n    const fetchMore = () => {\r\n        if(!isOver){\r\n            fetchData();\r\n        }\r\n        setIsFetching(false);\r\n    }\r\n    \r\n    const [isFetching, setIsFetching]  = useInfiniteScroll(fetchMore);\r\n\r\n    const list = pokeList.map((pokemon)=>{\r\n        return <Card key={pokemon.id} showDetail={showDetail} pokemon={pokemon}></Card>\r\n    });\r\n    return (\r\n        <div className=\"dictionary\">\r\n            <div className=\"dictionary__content\">\r\n                {list}\r\n            </div>\r\n            <div className=\"dictionary__row\">\r\n                {(isLoadMore && !isOver) ? \r\n                    <Loading className=\"small\"></Loading> : \"\"\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dictionary\r\n","export default __webpack_public_path__ + \"static/media/pokemon.c12eb752.png\";","import React from 'react';  \r\nimport './Header.scss';\r\nimport pokemonBrand from '../../assets/pokemon.png';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"header\">\r\n                <img \r\n                    src={pokemonBrand} \r\n                    alt=\"Pokemon\"\r\n                    onClick={()=>{\r\n                        window.location.reload(false);\r\n                    }}\r\n                ></img>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useRef} from 'react'\r\nimport './Search.scss';\r\nconst Search = ({getFilter}) => {\r\n    const refContainer = useRef(null);\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        getFilter(refContainer.current.value.toLowerCase());\r\n    };\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <form onSubmit={handleSubmit}>\r\n                <input className=\"search__input\"\r\n                    type=\"text\" \r\n                    placeholder=\"Id or name\"\r\n                    ref={refContainer}\r\n                ></input>\r\n                <button className=\"search__button\" type='submit' ><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","export default __webpack_public_path__ + \"static/media/pokeballOpen.1dac896f.png\";","import React from 'react'\r\nimport './NotFound.scss';\r\nimport pokeball from '../../assets/pokeballOpen.png';\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"err\">\r\n            <div className=\"err__content\">\r\n                <div className=\"err__img\">\r\n                    <img src={pokeball} alt='Pokeball'></img>\r\n                </div>\r\n                <div className=\"err__text\">\r\n                    <h2>POKEMON NOT FOUND!</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport './ScrollToTopBtn.scss';\r\n\r\nconst ScrollToTopBtn = () => {\r\n    const [isDisplay, setIsDisplay] = useState(false);\r\n    const handleScrollTop =()=>{\r\n        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\r\n            setIsDisplay(true);\r\n        }\r\n        else {\r\n            setIsDisplay(false);\r\n        }\r\n    }\r\n\r\n    const scrollTop=()=>{\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n    }\r\n    useEffect(() => {\r\n        document.addEventListener(\"scroll\", handleScrollTop)        \r\n        return () => {\r\n            document.removeEventListener(\"scroll\", handleScrollTop);\r\n        }\r\n    }, []);\r\n    return (\r\n      <>\r\n         {isDisplay ?  \r\n            <button className=\"scroll-top\" onClick={scrollTop}>\r\n                <i class=\"fas fa-angle-double-up\"></i>\r\n            </button> : \"\"\r\n        }\r\n      </>\r\n    )\r\n}\r\n\r\nexport default ScrollToTopBtn\r\n","import './App.css';\r\nimport { useEffect, useReducer} from 'react'\r\nimport { reducer } from './reducer';\r\nimport axios from 'axios';\r\nimport Dictionary from './components/Dictionary/Dictionary';\r\nimport Header from './components/Header/Header';\r\nimport './App.css';\r\nimport Search from './components/Search/Search';\r\nimport Loading from './components/Loading/Loading';\r\nimport NotFound from './components/NotFound/NotFound';\r\nimport ScrollToTopBtn from './components/ScrollToTopBtn/ScrollToTopBtn';\r\n// import PokeDetail from './components/PokeDetail/PokeDetail';\r\n\r\nconst pokemonlUrl = \"https://pokeapi.co/api/v2/pokemon/\";\r\nconst typesUrl = \"https://pokeapi.co/api/v2/type/\";\r\nconst initialState = {\r\n\tfilterResult: null,\r\n\tisLoading: true,\r\n\tdata: [],\r\n\ttypes: [],\r\n\tnextUrl: pokemonlUrl,\r\n\tisOver: false,\r\n\tisSearching: false,\r\n\tisLoadMore: true,\r\n\tisError: false,\r\n\tisOpenPokedex: false,\r\n\tpokeDetail: null,\r\n}\r\n\r\nfunction App() {\r\n\t\t\r\n\tconst [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n\tconst fetchData = () =>{\r\n\t\tif(!state.filterResult){\r\n\t\t\tdispatch({type:\"START_LOAD\"});\r\n\t\t\taxios.get(state.nextUrl)\r\n\t\t\t.then(res=>{\r\n\t\t\t\tconst data = res.data;\r\n\t\t\t\tconst axiosList = data.results.map((item)=>{\r\n\t\t\t\t\treturn axios.get(item.url);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tPromise.all(axiosList)\r\n\t\t\t\t.then((results)=>{\r\n\t\t\t\t\tlet pokeList = results.map((item)=>{\r\n\t\t\t\t\t\tlet typeList = item.data.types.map((type)=>{\r\n\t\t\t\t\t\t\treturn type.type.name;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn{\r\n\t\t\t\t\t\t\tid: item.data.id,\r\n\t\t\t\t\t\t\tname: item.data.name,\r\n\t\t\t\t\t\t\ttypes: typeList,\r\n\t\t\t\t\t\t\timg: item.data.sprites.front_default,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(state.types.length === 0){\r\n\t\t\t\t\t\taxios.get(typesUrl)\r\n\t\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\t\tconst data1 = res.data;\r\n\t\t\t\t\t\t\tconst axiosList1 = data1.results.map((item)=>{\r\n\t\t\t\t\t\t\t\treturn axios.get(item.url);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tPromise.all(axiosList1)\r\n\t\t\t\t\t\t\t.then((result)=>{\r\n\t\t\t\t\t\t\t\tlet types = result.map((item)=>{\r\n\t\t\t\t\t\t\t\t\tlet dis = [];\r\n\t\t\t\t\t\t\t\t\tlet ad = [];\r\n\t\t\t\t\t\t\t\t\titem.data.damage_relations.double_damage_from.forEach(type=>{\r\n\t\t\t\t\t\t\t\t\t\tdis.push(type.name);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\titem.data.damage_relations.no_damage_to.forEach(type=>{\r\n\t\t\t\t\t\t\t\t\t\tdis.push(type.name);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\titem.data.damage_relations.double_damage_to.forEach(type=>{\r\n\t\t\t\t\t\t\t\t\t\tad.push(type.name);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\titem.data.damage_relations.no_damage_from.forEach(type=>{\r\n\t\t\t\t\t\t\t\t\t\tad.push(type.name);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn{\r\n\t\t\t\t\t\t\t\t\t\tname: item.data.name,\r\n\t\t\t\t\t\t\t\t\t\tdis: dis,\r\n\t\t\t\t\t\t\t\t\t\tad: ad\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tdispatch({type:'FETCH_DATA', payload: {pokemons: pokeList, nextUrl: data.next, typeList: types}});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tdispatch({type:'FETCH_DATA', payload: {pokemons: pokeList, nextUrl: data.next, typeList: state.types}});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err=>console.log(err));\r\n\t\t\t}).catch(err=>console.log(err));\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t\treturn()=>{\r\n\t\t\t//do not thing\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst getFilter =(filter)=>{\r\n\t\tdispatch({type:'SEARCHING'});\r\n\t\tsetTimeout(() => {\r\n\t\t\tif(filter.length === 0){\r\n\t\t\t\tdispatch({type:'RESET_POKEMONS'});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\taxios.get(pokemonlUrl + filter)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\tlet typeList = data.types.map((type)=>{\r\n\t\t\t\t\t\treturn type.type.name;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst pokemon = {\r\n\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\ttypes: typeList,\r\n\t\t\t\t\t\timg: data.sprites.front_default,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdispatch({type:'FILTERING', payload: pokemon});\r\n\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err=>{\r\n\t\t\t\t\tdispatch({type:\"NOT_FOUND\"})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\tconst showDetail = (pokemon)=>{\r\n\t\tdispatch({type: \"SET_DETAIL\", payload: pokemon});\r\n\t}\r\n\r\n\t// const renderDetail = () =>{\r\n\t// \tlet pokeTypes = [];\r\n\t// \tstate.pokeDetail.types.forEach(item=>{\r\n\t// \t\tstate.types.forEach((type)=>{\r\n\t// \t\t\tif(type.name === item){\r\n\t// \t\t\t\tpokeTypes.push(type);\r\n\t// \t\t\t}\r\n\t// \t\t});\r\n\t// \t});\r\n\t// \treturn <PokeDetail pokemon={state.pokeDetail} types={pokeTypes}></PokeDetail>\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<div className=\"app\">\r\n\t\t\t<ScrollToTopBtn></ScrollToTopBtn>\r\n\t\t\t{state.isLoading ? \r\n\t\t\t\t<Loading className=\"big\"></Loading> :\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header></Header>\r\n\t\t\t\t\t<Search getFilter={getFilter}></Search>\r\n\t\t\t\t\t<main>\r\n\t\t\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t\t\t{state.isSearching ?                     \r\n\t\t\t\t\t\t\t\t<Loading className=\"small\"></Loading> :\r\n\t\t\t\t\t\t\t\tstate.isError ?\r\n\t\t\t\t\t\t\t\t<NotFound></NotFound> : \r\n\t\t\t\t\t\t\t\t<Dictionary\r\n\t\t\t\t\t\t\t\t\tisOver={state.filterResult ? true : state.isOver} \r\n\t\t\t\t\t\t\t\t\tpokeList={state.filterResult ? state.filterResult : state.data} \r\n\t\t\t\t\t\t\t\t\tfetchData={fetchData}\r\n\t\t\t\t\t\t\t\t\tisLoadMore={state.isLoadMore}\r\n\t\t\t\t\t\t\t\t\tshowDetail={showDetail}\r\n\t\t\t\t\t\t\t\t></Dictionary>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</main>\r\n\t\t\t\t\t{/* {\r\n\t\t\t\t\t\tstate.isOpenPokedex ?\r\n\t\t\t\t\t\trenderDetail() :\r\n\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t} */}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}
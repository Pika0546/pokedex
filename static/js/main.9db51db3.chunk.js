(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{39:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(32),r=a.n(s),i=(a(39),a.p+"static/media/pokemon.c12eb752.png"),o=a(11),l=a(0),d=function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)(o.b,{to:"/reload",children:Object(l.jsx)("img",{src:i,alt:"Pokemon"})})})},j=(a(46),a(7)),u=(a(47),function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],s=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?c(!0):c(!1)};return Object(n.useEffect)((function(){return document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}}),[]),Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("button",{className:"scroll-top",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:Object(l.jsx)("i",{className:"fas fa-angle-double-up"})}):""})}),b=a(10),p=a.n(b),m=a(14),h=(a(49),a(50),function(e){var t=e.type;return Object(l.jsx)("div",{className:"badge badge--".concat(t),children:t})}),O=a(2),f=(a(51),function(e){var t=e.className;return Object(l.jsx)("div",{className:"loading loading--".concat(t),children:Object(l.jsxs)("div",{className:"pokeball",children:[Object(l.jsx)("div",{className:"pokeball__top"}),Object(l.jsx)("div",{className:"pokeball__bottom"}),Object(l.jsx)("div",{className:"pokeball__line"}),Object(l.jsx)("div",{className:"pokeball__middle"})]})})}),x=a(12),v=a.n(x),g=(a(71),function(e){var t=e.pokemon,a=t.types.map((function(e,t){return Object(l.jsx)(h,{type:e},t)}));return Object(l.jsx)(o.b,{to:"/".concat(t.id),children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"card__img",children:Object(l.jsx)("img",{src:t.img,alt:t.name})}),Object(l.jsx)("span",{className:"card__id",children:"#".concat(t.id)}),Object(l.jsx)("h3",{className:"card__title",children:t.name}),Object(l.jsx)("div",{className:"card__types",children:a})]})})}),_=function(){var e=Object(O.g)().id,t=Object(n.useState)({name:"",id:0,dis:[],ad:[],types:[],imgDefault:"",imgFemale:"",height:0,weight:0}),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)("loading"),i=Object(j.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(0),b=Object(j.a)(u,2),x=b[0],_=b[1],N=Object(n.useState)([]),y=Object(j.a)(N,2),k=y[0],E=y[1],w=function(e){return e/10},R=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://pokeapi.co/api/v2/pokemon/"+t);case 2:return a=e.sent,n={id:a.data.id,name:a.data.name,img:a.data.sprites.front_default,types:a.data.types.map((function(e){return e.type.name}))},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(p.a.mark((function t(){var a,n,c,r,i,o,l,j,u,b,m,h,O,f,x,g,_,N,y,k,w,T,S;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://pokeapi.co/api/v2/pokemon/"+e);case 2:return a=t.sent,n=a.data.types.length,c=a.data.species.url,t.next=7,v.a.get(c);case 7:return r=t.sent,t.next=10,v.a.get(r.data.evolution_chain.url);case 10:return i=t.sent,t.next=13,R(i.data.chain.species.name);case 13:o=t.sent,l=i.data.chain.evolves_to,o.lv2=[],j=0;case 17:if(!(j<l.length)){t.next=36;break}return t.next=20,R(l[j].species.name);case 20:u=t.sent,b=l[j].evolves_to,u.lv3=[],m=0;case 24:if(!(m<b.length)){t.next=32;break}return t.next=27,R(b[m].species.name);case 27:h=t.sent,u.lv3.push(h);case 29:m++,t.next=24;break;case 32:o.lv2.push(u);case 33:j++,t.next=17;break;case 36:O=[],f=[],x=[],g=0;case 40:if(!(g<n)){t.next=52;break}return t.next=43,v.a.get(a.data.types[g].type.url);case 43:(_=t.sent).data.damage_relations.double_damage_from.forEach((function(e){f.push(e.name)})),_.data.damage_relations.no_damage_to.forEach((function(e){f.push(e.name)})),_.data.damage_relations.double_damage_to.forEach((function(e){x.push(e.name)})),_.data.damage_relations.no_damage_from.forEach((function(e){x.push(e.name)})),O.push(a.data.types[g].type);case 49:g++,t.next=40;break;case 52:for(N=f.length-1;N>=0;N--)for(y=x.length-1;y>=0;y--)f[N]===x[y]&&(f.splice(N,1),x.splice(y,1));for(k=f.length-1;k>=0;k--)for(w=0;w<O.length;w++)f[k]===O[w].name&&f.splice(k,1);for(T=x.length-1;T>=0;T--)for(S=0;S<O.length;S++)x[T]===O[S].name&&x.splice(T,1);s({name:a.data.name,id:a.data.id,types:O,dis:Array.from(new Set(f)),ad:Array.from(new Set(x)),imgDefault:a.data.sprites.front_default,imgFemale:a.data.sprites.front_female,height:a.data.height,weight:a.data.weight}),E(o),d("done");case 58:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t.catch(0),d("error");case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))).apply(this,arguments)}return d("loading"),function(){t.apply(this,arguments)}(),function(){}}),[e]);var T;return"error"===o?Object(l.jsx)(O.a,{to:"/error/404"}):"loading"===o?Object(l.jsx)(f,{className:"big"}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"main",style:{padding:0},children:Object(l.jsxs)("div",{className:"pokedetail",children:[Object(l.jsxs)("div",{className:"pokedetail__name",children:[Object(l.jsxs)("h1",{children:[c.name,Object(l.jsxs)("span",{children:["#",c.id]})]}),c.imgFemale?Object(l.jsxs)("select",{defaultValue:0,onChange:function(e){_(parseInt(e.target.value))},children:[Object(l.jsx)("option",{value:0,children:"Male"}),Object(l.jsx)("option",{value:1,children:"Female"})]}):""]}),Object(l.jsxs)("div",{className:"pokedetail__info",children:[Object(l.jsx)("div",{className:"avatar",children:Object(l.jsx)("img",{alt:c.name,src:x?c.imgFemale:c.imgDefault})}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("div",{className:"info__size",children:[Object(l.jsxs)("h3",{children:["Weight: ",Object(l.jsxs)("span",{children:[w(c.weight),"kg"]})]}),Object(l.jsxs)("h3",{children:["Height: ",Object(l.jsxs)("span",{children:[w(c.height),"m"]})]})]}),Object(l.jsxs)("div",{className:"info__type",children:[Object(l.jsx)("h3",{children:"Type: "}),"  ",(T=c.types,T.map((function(e,t){return Object(l.jsx)(h,{type:e.name},t)})))]}),Object(l.jsxs)("div",{className:"info__type",children:[Object(l.jsx)("h3",{children:"Advantage: "})," ",function(e){var t=[];return e.forEach((function(e,a){t.push(Object(l.jsx)(h,{type:e},a))})),t}(c.ad)]}),Object(l.jsxs)("div",{className:"info__type",children:[Object(l.jsx)("h3",{children:"Disavantage: "})," ",function(e){var t=[];return e.forEach((function(e,a){t.push(Object(l.jsx)(h,{type:e},a))})),t}(c.dis)]})]})]}),Object(l.jsx)("h1",{className:"chain-header",children:"Evolutions"}),Object(l.jsx)("div",{className:"chain",children:function(){var e=0,t=[];if(t.push(Object(l.jsx)(g,{pokemon:k},e++)),k.lv2.length<=0)return t;t.push(Object(l.jsxs)("span",{children:[Object(l.jsx)("i",{className:"fas fa-chevron-right"},e++),Object(l.jsx)("i",{className:"fas fa-angle-down"},e++)]},e++));var a=[],n=[];k.lv2.forEach((function(t){a.push(Object(l.jsx)(g,{pokemon:t},e++)),t.lv3.forEach((function(t){n.push(Object(l.jsx)(g,{pokemon:t},e++))}))}));var c={gridTemplateColumns:"repeat(".concat(a.length>4?4:a.length,", 1fr)")};if(t.push(Object(l.jsx)("div",{className:"chain__col",style:c,children:a},e++)),n.length>0){t.push(Object(l.jsxs)("span",{children:[Object(l.jsx)("i",{className:"fas fa-chevron-right"},e++),Object(l.jsx)("i",{className:"fas fa-angle-down"},e++)]},e++));var s={gridTemplateColumns:"repeat(".concat(n.length>4?4:n.length,", 1fr)")};t.push(Object(l.jsx)("div",{className:"chain__col",style:s,children:n},e++))}return t}()})]})})})})},N=a(4),y=a(22),k=function(e,t){if("FETCH_DATA"===t.type){var a=!1;t.payload.nextUrl||(a=!0);var n=[].concat(Object(y.a)(e.data),Object(y.a)(t.payload.pokemons));return Object(N.a)(Object(N.a)({},e),{},{data:n,isLoading:!1,nextUrl:t.payload.nextUrl,isOver:a,isError:!1,isLoadMore:!1})}return"RESET_POKEMONS"===t.type?Object(N.a)(Object(N.a)({},e),{},{filterResult:null,isLoading:!1,isSearching:!1,isError:!1,isLoadMore:!1}):"FILTERING"===t.type?Object(N.a)(Object(N.a)({},e),{},{filterResult:[t.payload],isSearching:!1,isError:!1}):"SEARCHING"===t.type?Object(N.a)(Object(N.a)({},e),{},{filterResult:[],isSearching:!0}):"START_LOAD"===t.type?Object(N.a)(Object(N.a)({},e),{},{isLoadMore:!0}):"NOT_FOUND"===t.type?Object(N.a)(Object(N.a)({},e),{},{filterResult:[],isSearching:!1,isError:1}):"ERROR"===t.type?Object(N.a)(Object(N.a)({},e),{},{isLoading:!1,isError:-1}):Object(N.a)({},e)},E=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1],r=function(){window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight&&s(!0)};return Object(n.useEffect)((function(){return document.addEventListener("scroll",r),function(){document.removeEventListener("scroll",r)}}),[]),Object(n.useEffect)((function(){c&&e()}),[c]),[c,s]},w=(a(72),function(e){var t=e.pokeList,a=e.fetchData,n=e.isOver,c=e.isLoadMore,s=E((function(){n||a(),r(!1)})),r=Object(j.a)(s,2)[1],i=t.map((function(e){return Object(l.jsx)(g,{pokemon:e},e.id)}));return Object(l.jsxs)("div",{className:"dictionary",children:[Object(l.jsx)("div",{className:"dictionary__content",children:i}),Object(l.jsx)("div",{className:"dictionary__row",children:c&&!n?Object(l.jsx)(f,{className:"small"}):""})]})}),R=(a(73),function(e){var t=e.getFilter,a=Object(n.useRef)(null);return Object(l.jsx)("div",{className:"search",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a.current.value.toLowerCase())},children:[Object(l.jsx)("input",{className:"search__input",type:"text",placeholder:"Id or name",ref:a}),Object(l.jsx)("button",{className:"search__button",type:"submit",children:Object(l.jsx)("i",{className:"fas fa-search"})})]})})}),T=(a(74),a.p+"static/media/pokeballOpen.1dac896f.png"),S=function(){return Object(l.jsx)("div",{className:"err",children:Object(l.jsxs)("div",{className:"err__content",children:[Object(l.jsx)("div",{className:"err__img",children:Object(l.jsx)("img",{src:T,alt:"Pokeball"})}),Object(l.jsx)("div",{className:"err__text",children:Object(l.jsx)("h2",{children:"POKEMON NOT FOUND!"})})]})})},L=(a(75),a.p+"static/media/pokeball404.de8d4812.png"),F=function(){return Object(l.jsxs)("div",{className:"error",children:[Object(l.jsxs)("div",{className:"error__404",children:[Object(l.jsx)("span",{children:"4"}),Object(l.jsx)("img",{src:L,alt:"O"}),Object(l.jsx)("span",{children:"4"})]}),Object(l.jsxs)("div",{className:"error__content",children:[Object(l.jsx)("h2",{children:"Uh-oh!"}),Object(l.jsx)("p",{children:"You look lost on your journey!"})]}),Object(l.jsx)("div",{className:"error__btn",children:Object(l.jsx)(o.b,{to:"/reload",children:Object(l.jsxs)("button",{className:"btn",children:[Object(l.jsx)("i",{className:"fas fa-long-arrow-alt-left"}),"Go back home"]})})})]})},D="https://pokeapi.co/api/v2/pokemon/",A={filterResult:null,data:[],isLoading:!0,nextUrl:D,isOver:!1,isSearching:!1,isLoadMore:!1,isError:0},M=function(){var e=Object(n.useReducer)(k,A),t=Object(j.a)(e,2),a=t[0],c=t[1],s=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,s,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.filterResult){e.next=19;break}return e.prev=1,c({type:"START_LOAD"}),e.next=5,v.a.get(a.nextUrl);case 5:return t=e.sent,n=t.data,s=n.results.map((function(e){return v.a.get(e.url)})),e.next=10,Promise.all(s);case 10:r=e.sent,i=r.map((function(e){var t=e.data.types.map((function(e){return e.type.name}));return{id:e.data.id,name:e.data.name,types:t,img:e.data.sprites.front_default}})),c({type:"FETCH_DATA",payload:{pokemons:i,nextUrl:n.next}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),c({type:"ERROR"});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return setTimeout((function(){s()}),500),function(){}}),[]);return a.isLoading?Object(l.jsx)(f,{className:"big"}):-1===a.isError?Object(l.jsx)(F,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(R,{getFilter:function(e){c({type:"SEARCHING"}),setTimeout(Object(m.a)(p.a.mark((function t(){var a,n,s,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=4;break}c({type:"RESET_POKEMONS"}),t.next=17;break;case 4:return t.prev=4,t.next=7,v.a.get(D+e);case 7:a=t.sent,n=a.data,s=n.types.map((function(e){return e.type.name})),r={id:n.id,name:n.name,types:s,img:n.sprites.front_default},c({type:"FILTERING",payload:r}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),c({type:"NOT_FOUND"});case 17:case"end":return t.stop()}}),t,null,[[4,14]])}))),1e3)}}),Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"main",children:a.isSearching?Object(l.jsx)(f,{className:"small"}):1===a.isError?Object(l.jsx)(S,{}):Object(l.jsx)(w,{isOver:!!a.filterResult||a.isOver,pokeList:a.filterResult?a.filterResult:a.data,fetchData:s,isLoadMore:a.isLoadMore})})})]})};var U=function(){return Object(l.jsx)("div",{className:"app",children:Object(l.jsxs)(o.a,{basename:"/",children:[Object(l.jsx)(u,{}),Object(l.jsx)(d,{}),Object(l.jsxs)(O.d,{children:[Object(l.jsx)(O.b,{exact:!0,path:"/",children:Object(l.jsx)(M,{})}),Object(l.jsx)(O.a,{exact:!0,from:"/reload",to:"/"}),Object(l.jsx)(O.b,{exact:!0,path:"/:id",children:Object(l.jsx)(_,{})}),Object(l.jsx)(O.b,{path:"*",children:Object(l.jsx)(F,{})})]})]})})};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(U,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.9db51db3.chunk.js.map
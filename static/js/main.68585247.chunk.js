(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{23:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(33),r=a.n(s),i=a(10),o=a.n(i),l=a(14),d=a(7),j=(a(23),a(5)),u=a(22),b=function(e,t){if("FETCH_DATA"===t.type){var a=!1;t.payload.nextUrl||(a=!0);var n=[].concat(Object(u.a)(e.data),Object(u.a)(t.payload.pokemons));return Object(j.a)(Object(j.a)({},e),{},{data:n,isLoading:!1,nextUrl:t.payload.nextUrl,isOver:a,isError:!1,isLoadMore:!1})}return"RESET_POKEMONS"===t.type?Object(j.a)(Object(j.a)({},e),{},{filterResult:null,isLoading:!1,isSearching:!1,isError:!1,isLoadMore:!1}):"FILTERING"===t.type?Object(j.a)(Object(j.a)({},e),{},{filterResult:[t.payload],isSearching:!1,isError:!1}):"SEARCHING"===t.type?Object(j.a)(Object(j.a)({},e),{},{filterResult:[],isSearching:!0}):"START_LOAD"===t.type?Object(j.a)(Object(j.a)({},e),{},{isLoadMore:!0}):"NOT_FOUND"===t.type?Object(j.a)(Object(j.a)({},e),{},{filterResult:[],isSearching:!1,isError:1}):Object(j.a)({},e)},p=a(11),m=a.n(p),h=(a(60),a(61),a(0)),O=function(e){var t=e.type;return Object(h.jsx)("div",{className:"badge badge--".concat(t),children:t})},f=a(12),x=function(e){var t=e.pokemon,a=t.types.map((function(e,t){return Object(h.jsx)(O,{type:e},t)}));return Object(h.jsx)(f.b,{to:"/".concat(t.id),children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card__img",children:Object(h.jsx)("img",{src:t.img,alt:t.name})}),Object(h.jsx)("span",{className:"card__id",children:"#".concat(t.id)}),Object(h.jsx)("h3",{className:"card__title",children:t.name}),Object(h.jsx)("div",{className:"card__types",children:a})]})})},v=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],s=a[1],r=function(){window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight&&s(!0)};return Object(n.useEffect)((function(){return document.addEventListener("scroll",r),function(){document.removeEventListener("scroll",r)}}),[]),Object(n.useEffect)((function(){c&&e()}),[c]),[c,s]},g=(a(68),a(69),function(e){var t=e.className;return Object(h.jsx)("div",{className:"loading loading--".concat(t),children:Object(h.jsxs)("div",{className:"pokeball",children:[Object(h.jsx)("div",{className:"pokeball__top"}),Object(h.jsx)("div",{className:"pokeball__bottom"}),Object(h.jsx)("div",{className:"pokeball__line"}),Object(h.jsx)("div",{className:"pokeball__middle"})]})})}),_=function(e){var t=e.pokeList,a=e.fetchData,n=e.isOver,c=e.isLoadMore,s=v((function(){n||a(),i(!1)})),r=Object(d.a)(s,2),i=(r[0],r[1]),o=t.map((function(e){return Object(h.jsx)(x,{pokemon:e},e.id)}));return Object(h.jsxs)("div",{className:"dictionary",children:[Object(h.jsx)("div",{className:"dictionary__content",children:o}),Object(h.jsx)("div",{className:"dictionary__row",children:c&&!n?Object(h.jsx)(g,{className:"small"}):""})]})},N=(a(70),a.p+"static/media/pokemon.c12eb752.png"),y=function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("a",{href:"/pokedex",children:Object(h.jsx)("img",{src:N,alt:"Pokemon"})})})},k=(a(71),function(e){var t=e.getFilter,a=Object(n.useRef)(null);return Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a.current.value.toLowerCase())},children:[Object(h.jsx)("input",{className:"search__input",type:"text",placeholder:"Id or name",ref:a}),Object(h.jsx)("button",{className:"search__button",type:"submit",children:Object(h.jsx)("i",{className:"fas fa-search"})})]})})}),E=(a(72),a.p+"static/media/pokeballOpen.1dac896f.png"),w=function(){return Object(h.jsx)("div",{className:"err",children:Object(h.jsxs)("div",{className:"err__content",children:[Object(h.jsx)("div",{className:"err__img",children:Object(h.jsx)("img",{src:E,alt:"Pokeball"})}),Object(h.jsx)("div",{className:"err__text",children:Object(h.jsx)("h2",{children:"POKEMON NOT FOUND!"})})]})})},S=(a(73),function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],s=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?c(!0):c(!1)};return Object(n.useEffect)((function(){return document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}}),[]),Object(h.jsx)(h.Fragment,{children:a?Object(h.jsx)("button",{className:"scroll-top",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:Object(h.jsx)("i",{className:"fas fa-angle-double-up"})}):""})}),T=(a(74),a(2)),L=function(){var e=Object(T.g)().id,t=Object(n.useState)({name:"",id:0,dis:[],ad:[],types:[],imgDefault:"",imgFemale:"",height:0,weight:0}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)("loading"),i=Object(d.a)(r,2),j=i[0],u=i[1],b=Object(n.useState)(0),p=Object(d.a)(b,2),f=p[0],v=p[1],_=Object(n.useState)([]),N=Object(d.a)(_,2),k=N[0],E=N[1],w=function(e){return e/10},S=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://pokeapi.co/api/v2/pokemon/"+t);case 2:return a=e.sent,n={id:a.data.id,name:a.data.name,img:a.data.sprites.front_default,types:a.data.types.map((function(e){return e.type.name}))},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(o.a.mark((function t(){var a,n,c,r,i,l,d,j,b,p,h,O,f,x,v,g,_,N,y,k,w,T,L;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("https://pokeapi.co/api/v2/pokemon/"+e);case 2:return a=t.sent,n=a.data.types.length,c=a.data.species.url,t.next=7,m.a.get(c);case 7:return r=t.sent,t.next=10,m.a.get(r.data.evolution_chain.url);case 10:return i=t.sent,t.next=13,S(i.data.chain.species.name);case 13:l=t.sent,d=i.data.chain.evolves_to,l.lv2=[],j=0;case 17:if(!(j<d.length)){t.next=36;break}return t.next=20,S(d[j].species.name);case 20:b=t.sent,p=d[j].evolves_to,b.lv3=[],h=0;case 24:if(!(h<p.length)){t.next=32;break}return t.next=27,S(p[h].species.name);case 27:O=t.sent,b.lv3.push(O);case 29:h++,t.next=24;break;case 32:l.lv2.push(b);case 33:j++,t.next=17;break;case 36:f=[],x=[],v=[],g=0;case 40:if(!(g<n)){t.next=52;break}return t.next=43,m.a.get(a.data.types[g].type.url);case 43:(_=t.sent).data.damage_relations.double_damage_from.forEach((function(e){x.push(e.name)})),_.data.damage_relations.no_damage_to.forEach((function(e){x.push(e.name)})),_.data.damage_relations.double_damage_to.forEach((function(e){v.push(e.name)})),_.data.damage_relations.no_damage_from.forEach((function(e){v.push(e.name)})),f.push(a.data.types[g].type);case 49:g++,t.next=40;break;case 52:for(N=x.length-1;N>=0;N--)for(y=v.length-1;y>=0;y--)x[N]===v[y]&&(x.splice(N,1),v.splice(y,1));for(k=x.length-1;k>=0;k--)for(w=0;w<f.length;w++)x[k]===f[w].name&&x.splice(k,1);for(T=v.length-1;T>=0;T--)for(L=0;L<f.length;L++)v[T]===f[L].name&&v.splice(T,1);s({name:a.data.name,id:a.data.id,types:f,dis:Array.from(new Set(x)),ad:Array.from(new Set(v)),imgDefault:a.data.sprites.front_default,imgFemale:a.data.sprites.front_female,height:a.data.height,weight:a.data.weight}),E(l),u("done");case 58:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t.catch(0),u("error");case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))).apply(this,arguments)}return u("loading"),function(){t.apply(this,arguments)}(),function(){}}),[e]);var L;return"error"===j?Object(h.jsx)(T.a,{to:"/error/404"}):"loading"===j?Object(h.jsx)(g,{className:"big"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)("main",{children:Object(h.jsx)("div",{className:"main",style:{padding:0},children:Object(h.jsxs)("div",{className:"pokedetail",children:[Object(h.jsxs)("div",{className:"pokedetail__name",children:[Object(h.jsxs)("h1",{children:[c.name,Object(h.jsxs)("span",{children:["#",c.id]})]}),c.imgFemale?Object(h.jsxs)("select",{defaultValue:0,onChange:function(e){v(parseInt(e.target.value))},children:[Object(h.jsx)("option",{value:0,children:"Male"}),Object(h.jsx)("option",{value:1,children:"Female"})]}):""]}),Object(h.jsxs)("div",{className:"pokedetail__info",children:[Object(h.jsx)("div",{className:"avatar",children:Object(h.jsx)("img",{alt:c.name,src:f?c.imgFemale:c.imgDefault})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info__size",children:[Object(h.jsxs)("h3",{children:["Weight: ",Object(h.jsxs)("span",{children:[w(c.weight),"kg"]})]}),Object(h.jsxs)("h3",{children:["Height: ",Object(h.jsxs)("span",{children:[w(c.height),"m"]})]})]}),Object(h.jsxs)("div",{className:"info__type",children:[Object(h.jsx)("h3",{children:"Type: "}),"  ",(L=c.types,L.map((function(e,t){return Object(h.jsx)(O,{type:e.name},t)})))]}),Object(h.jsxs)("div",{className:"info__type",children:[Object(h.jsx)("h3",{children:"Advantage: "})," ",function(e){var t=[];return e.forEach((function(e,a){t.push(Object(h.jsx)(O,{type:e},a))})),t}(c.ad)]}),Object(h.jsxs)("div",{className:"info__type",children:[Object(h.jsx)("h3",{children:"Disavantage: "})," ",function(e){var t=[];return e.forEach((function(e,a){t.push(Object(h.jsx)(O,{type:e},a))})),t}(c.dis)]})]})]}),Object(h.jsx)("h1",{className:"chain-header",children:"Evolutions"}),Object(h.jsx)("div",{className:"chain",children:function(){var e=0,t=[];if(t.push(Object(h.jsx)(x,{pokemon:k},e++)),k.lv2.length<=0)return t;t.push(Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"fas fa-chevron-right"},e++),Object(h.jsx)("i",{className:"fas fa-angle-down"},e++)]},e++));var a=[],n=[];k.lv2.forEach((function(t){a.push(Object(h.jsx)(x,{pokemon:t},e++)),t.lv3.forEach((function(t){n.push(Object(h.jsx)(x,{pokemon:t},e++))}))}));var c={gridTemplateColumns:"repeat(".concat(a.length>4?4:a.length,", 1fr)")};if(t.push(Object(h.jsx)("div",{className:"chain__col",style:c,children:a},e++)),n.length>0){t.push(Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"fas fa-chevron-right"},e++),Object(h.jsx)("i",{className:"fas fa-angle-down"},e++)]},e++));var s={gridTemplateColumns:"repeat(".concat(n.length>4?4:n.length,", 1fr)")};t.push(Object(h.jsx)("div",{className:"chain__col",style:s,children:n},e++))}return t}()})]})})})]})},R=(a(75),a.p+"static/media/pokeball404.de8d4812.png"),F=function(){return Object(h.jsxs)("div",{className:"error",children:[Object(h.jsxs)("div",{className:"error__404",children:[Object(h.jsx)("span",{children:"4"}),Object(h.jsx)("img",{src:R,alt:"O"}),Object(h.jsx)("span",{children:"4"})]}),Object(h.jsxs)("div",{className:"error__content",children:[Object(h.jsx)("h2",{children:"Uh-oh!"}),Object(h.jsx)("p",{children:"You look lost on your journey!"})]}),Object(h.jsx)("div",{className:"error__btn",children:Object(h.jsx)("a",{href:"/pokedex",children:Object(h.jsxs)("button",{className:"btn",children:[Object(h.jsx)("i",{className:"fas fa-long-arrow-alt-left"}),"Go back home"]})})})]})},D="https://pokeapi.co/api/v2/pokemon/",A={filterResult:null,isLoading:!0,data:[],nextUrl:D,isOver:!1,isSearching:!1,isLoadMore:!0,isError:1,isOpenPokedex:!1};var M=function(){var e=Object(n.useReducer)(b,A),t=Object(d.a)(e,2),a=t[0],c=t[1],s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.filterResult){e.next=18;break}return e.prev=1,c({type:"START_LOAD"}),e.next=5,m.a.get(a.nextUrl);case 5:return t=e.sent,n=t.data,s=n.results.map((function(e){return m.a.get(e.url)})),e.next=10,Promise.all(s);case 10:r=e.sent,i=r.map((function(e){var t=e.data.types.map((function(e){return e.type.name}));return{id:e.data.id,name:e.data.name,types:t,img:e.data.sprites.front_default}})),c({type:"FETCH_DATA",payload:{pokemons:i,nextUrl:n.next}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return s(),function(){}}),[]),a.isLoading?Object(h.jsx)(g,{className:"big"}):2===a.isError?Object(h.jsx)(T.a,{to:"/error/404"}):Object(h.jsx)("div",{className:"app",children:Object(h.jsx)(f.a,{basename:"/",children:Object(h.jsxs)(T.d,{children:[Object(h.jsxs)(T.b,{exact:!0,path:"/",children:[Object(h.jsx)(y,{}),Object(h.jsx)(S,{}),Object(h.jsx)(k,{getFilter:function(e){c({type:"SEARCHING"}),setTimeout(Object(l.a)(o.a.mark((function t(){var a,n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=4;break}c({type:"RESET_POKEMONS"}),t.next=17;break;case 4:return t.prev=4,t.next=7,m.a.get(D+e);case 7:a=t.sent,n=a.data,s=n.types.map((function(e){return e.type.name})),r={id:n.id,name:n.name,types:s,img:n.sprites.front_default},c({type:"FILTERING",payload:r}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),c({type:"NOT_FOUND"});case 17:case"end":return t.stop()}}),t,null,[[4,14]])}))),1e3)}}),Object(h.jsx)("main",{children:Object(h.jsx)("div",{className:"main",children:a.isSearching?Object(h.jsx)(g,{className:"small"}):1===a.isError?Object(h.jsx)(w,{}):Object(h.jsx)(_,{isOver:!!a.filterResult||a.isOver,pokeList:a.filterResult?a.filterResult:a.data,fetchData:s,isLoadMore:a.isLoadMore})})})]}),Object(h.jsx)(T.b,{exact:!0,path:"/:id",children:Object(h.jsx)(L,{})}),Object(h.jsxs)(T.b,{path:"*",children:[Object(h.jsx)(y,{}),Object(h.jsx)(F,{})]})]})})})};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(M,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.68585247.chunk.js.map